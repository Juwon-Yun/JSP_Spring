package kr.or.ddit.util;

import java.io.File;
import java.util.UUID;

import org.springframework.web.multipart.MultipartFile;

public class UploadFileUtil {
	// 내가 작성한 메소드
	public static String uploadFile(MultipartFile file) {
		String path = "E:\\Java_workspace\\6.jspSpring\\springGuestBoard\\src\\main\\webapp\\resources\\images";
		String fileName = file.getOriginalFilename();
		File target = new File(path, fileName);
		
		if ( ! new File(path).exists()) {
            new File(path).mkdirs();
        }
		
		if(target.exists()) {
			UUID uuid = UUID.randomUUID();
			fileName = uuid.toString() + fileName ;
			File target2 = new File(path, fileName);
			//변환된 파일명으로 생성
			try {file.transferTo(target2);} catch(Exception e) {e.printStackTrace();}    
		}else {
			//파일명 그대로 생성
			try {file.transferTo(target);} catch(Exception e) {e.printStackTrace();}    
		}
		
        return fileName;
	}
	// 선생님이 작성한 메소드
}
